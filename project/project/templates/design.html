<!DOCTYPE html>
<html lang="en">
<head>
  {% block title %}<title>Design</title>{% endblock %}
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    {% load static %}

    <link rel="stylesheet" type="text/css" href="{% static 'global_css_classes.css' %}">

    <style>
        #all-cards-container{
            display: flex;
        }
        #deck-cards-container{
            display: flex;
        }
    </style>
</head>
<body>
    <script>
        //preload cards into js with django. we can make this dynamic later with vue
        let card_list = {{ cards | safe }};
        let deck_cards = [];
        window.onload = function () {
            //vue setup. delimeters set to square brackets because django uses curly
            let selected_cards_vue = new Vue({
              delimiters: ['[[', ']]'],
              el: '#deck-cards-container',
              data: {
                  deck_cards: deck_cards
              },
              methods: {
                remove_card: function (card_index) {
                  deck_cards.splice(card_index,1);
                }
              }
            });

            let all_cards_vue = new Vue({
              delimiters: ['[[', ']]'],
              el: '#all-cards-container',
              data: {
                  card_list: card_list
              },
              methods: {
                add_card: function (card) {
                  deck_cards.push(card);
                }
              }
            });
        }

    </script>
    <style>
        .card {
          display: inline-block;
        }

        .ace_clubs {
         width: 71px;
         height: 97px;
         background: url(http://dobsondev.com/wp-content/uploads/2015/04/windows-playing-cards.png) -2px -1px;
        }
    </style>

    {% block sidebar %}<!-- insert default navigation text for every page -->{% endblock %}
    {% block content %}
      <h1>design</h1>
        <div id="deck-cards-container">
            <div v-for="(card, index) in deck_cards" :class="card.media_class" v-on:click="remove_card(index)"></div>
        </div>
        <br>
        <div id="all-cards-container">
            <div v-for="card in card_list" :class="card.media_class" v-on:click="add_card(card)" ></div>
        </div>
    {% endblock %}
</body>
</html>